<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canton of Lucerne - OpenSwiss.info</title>
    <meta name="description" content="Canton of Lucerne overview and municipalities">
    <link rel="stylesheet" href="styles.css">

    <!-- D3.js for interactive map -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-left">
                <div class="logo">open <span class="swiss">swiss</span> info</div>
                <div class="language-bar">
                    <div class="language-links">
                        <a href="#de">DE</a>
                        <span>|</span>
                        <a href="#fr">FR</a>
                        <span>|</span>
                        <a href="#it">IT</a>
                        <span>|</span>
                        <a href="#en" class="active">EN</a>
                    </div>
                </div>
            </div>
            <nav class="nav">
                <div class="nav-item">
                    <a href="index.html">Home</a>
                </div>
                <div class="nav-item">
                    <a href="place.html" class="active">Location</a>
                    <div class="dropdown">
                        <a href="#canton-lucerne">Canton of Lucerne</a>
                        <div class="dropdown-item">
                            <a href="#lucerne-city" style="padding-left: 32px;">Lucerne (city)</a>
                            <div class="subdropdown">
                                <a href="#rules">Rules</a>
                                <a href="#national" style="padding-left: 32px;">National</a>
                                <a href="#cantonal" style="padding-left: 32px;">Cantonal</a>
                                <a href="#municipal" style="padding-left: 32px;">Municipal</a>
                            </div>
                        </div>
                        <div class="dropdown-item">
                            <a href="#kriens" style="padding-left: 32px;">Kriens</a>
                            <div class="subdropdown">
                                <a href="#rules-kriens">Rules</a>
                                <a href="#national-kriens" style="padding-left: 32px;">National</a>
                                <a href="#cantonal-kriens" style="padding-left: 32px;">Cantonal</a>
                                <a href="#municipal-kriens" style="padding-left: 32px;">Municipal</a>
                            </div>
                        </div>
                        <div class="dropdown-item">
                            <a href="#emmen" style="padding-left: 32px;">Emmen</a>
                            <div class="subdropdown">
                                <a href="#rules-emmen">Rules</a>
                                <a href="#national-emmen" style="padding-left: 32px;">National</a>
                                <a href="#cantonal-emmen" style="padding-left: 32px;">Cantonal</a>
                                <a href="#municipal-emmen" style="padding-left: 32px;">Municipal</a>
                            </div>
                        </div>
                        <a href="#canton-nidwalden">Canton of Nidwalden</a>
                    </div>
                </div>
                <div class="nav-item">
                    <a href="#data">Data</a>
                    <div class="dropdown">
                        <a href="#demographics">demographics</a>
                        <a href="#politics">politics</a>
                        <a href="#culture">culture</a>
                        <a href="#economy">economy</a>
                        <a href="#geography">geography</a>
                        <a href="#education">education</a>
                        <a href="#healthcare">healthcare</a>
                        <a href="#environment">environment</a>
                    </div>
                </div>
                <div class="nav-item">
                    <a href="visualizations.html">Visualizations</a>
                    <div class="dropdown">
                        <a href="visualizations.html">rail</a>
                        <a href="traffic.html">road</a>
                    </div>
                </div>
            </nav>
        </header>

        <div class="graph-panel">
            <h2 class="panel-title">Quick Facts</h2>
            <div style="padding: 20px;">
                <div style="background: #fafafa; border: 1px solid #e0e0e0; padding: 16px; margin-bottom: 16px;">
                    <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #1a1a1a;">Capital</h3>
                    <p style="font-size: 13px; color: #666;">Lucerne</p>
                </div>
                <div style="background: #fafafa; border: 1px solid #e0e0e0; padding: 16px; margin-bottom: 16px;">
                    <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #1a1a1a;">Population</h3>
                    <p style="font-size: 13px; color: #666;">~410,000</p>
                </div>
                <div style="background: #fafafa; border: 1px solid #e0e0e0; padding: 16px; margin-bottom: 16px;">
                    <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #1a1a1a;">Area</h3>
                    <p style="font-size: 13px; color: #666;">1,493 km²</p>
                </div>
                <div style="background: #fafafa; border: 1px solid #e0e0e0; padding: 16px;">
                    <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #1a1a1a;">Municipalities</h3>
                    <p style="font-size: 13px; color: #666;">79</p>
                </div>
                <div style="background: white; border: 1px solid #e0e0e0; padding: 16px; margin-top: 16px; text-align: center;">
                    <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #1a1a1a;">Coat of Arms</h3>
                    <svg width="120" height="140" viewBox="0 0 120 140" xmlns="http://www.w3.org/2000/svg">
                        <!-- Shield outline -->
                        <path d="M 10 10 L 110 10 L 110 90 Q 60 130 10 90 Z" fill="white" stroke="#333" stroke-width="2"/>

                        <!-- Diagonal division - white (top-left) and blue (bottom-right) -->
                        <defs>
                            <clipPath id="shield-clip">
                                <path d="M 10 10 L 110 10 L 110 90 Q 60 130 10 90 Z"/>
                            </clipPath>
                        </defs>

                        <!-- White half (top-left) -->
                        <polygon points="10,10 110,10 10,90" fill="white" clip-path="url(#shield-clip)"/>

                        <!-- Blue half (bottom-right) -->
                        <polygon points="110,10 110,90 60,130 10,90" fill="#0066CC" clip-path="url(#shield-clip)"/>

                        <!-- Shield border -->
                        <path d="M 10 10 L 110 10 L 110 90 Q 60 130 10 90 Z" fill="none" stroke="#333" stroke-width="2"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="chat-panel">
            <div class="chat-header">
                <h1 class="chat-title">Canton of Lucerne</h1>
                <p class="chat-subtitle">Central Switzerland canton</p>
            </div>

            <div style="flex: 1;">
                <!-- Overview Facts -->
                <div style="background: #fafafa; border: 1px solid #e0e0e0; padding: 24px; margin-bottom: 24px;">
                    <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: #1a1a1a;">Overview</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Official Languages</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">German</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Joined Confederation</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">1332</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Region</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">Central Switzerland</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Abbreviation</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">LU</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Districts</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">5 (Entlebuch, Hochdorf, Lucerne, Sursee, Willisau)</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Bordering Cantons</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">Aargau, Bern, Nidwalden, Obwalden, Schwyz, Zug</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Highest Point</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">Brienzer Rothorn (2,350 m)</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Lowest Point</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">Lake Lucerne (434 m)</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Major Cities</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">Lucerne, Emmen, Kriens, Horw</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Government</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">Cantonal Council (120 seats)</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">Executive Council</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">5 members</p>
                        </div>
                        <div>
                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #666;">GDP per Capita</h4>
                            <p style="font-size: 14px; color: #1a1a1a;">CHF 82,000 (approx.)</p>
                        </div>
                    </div>
                </div>

                <!-- Interactive Map -->
                <div style="background: #fafafa; border: 1px solid #e0e0e0; padding: 24px; margin-bottom: 24px;">
                    <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: #1a1a1a;">Canton Map</h3>
                    <div id="canton-map" style="width: 100%; height: 500px; background: #f5f5f5; border: 1px solid #e0e0e0;">
                        <svg id="lucerne-map-svg" style="width: 100%; height: 100%;"></svg>
                    </div>
                    <div id="municipality-info" style="margin-top: 16px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px; min-height: 60px;">
                        <p style="font-size: 13px; color: #666; text-align: center;">Hover over a municipality to see details</p>
                    </div>
                </div>

                <!-- Municipalities List -->
                <div style="background: #fafafa; border: 1px solid #e0e0e0; padding: 24px;">
                    <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: #1a1a1a;">Municipalities</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 8px;">
                        <a href="#adligenswil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Adligenswil</a>
                        <a href="#aesch" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Aesch</a>
                        <a href="#alberswil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Alberswil</a>
                        <a href="#altburon" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Altbüron</a>
                        <a href="#altishofen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Altishofen</a>
                        <a href="#ballwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Ballwil</a>
                        <a href="#beromünster" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Beromünster</a>
                        <a href="#buchrain" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Buchrain</a>
                        <a href="#buttisholz" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Buttisholz</a>
                        <a href="#dagmersellen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Dagmersellen</a>
                        <a href="#dierikon" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Dierikon</a>
                        <a href="#doppleschwand" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Doppleschwand</a>
                        <a href="#ebikon" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Ebikon</a>
                        <a href="#egolzwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Egolzwil</a>
                        <a href="#emmen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Emmen</a>
                        <a href="#entlebuch" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Entlebuch</a>
                        <a href="#ermensee" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Ermensee</a>
                        <a href="#eschenbach" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Eschenbach</a>
                        <a href="#escholzmatt-marbach" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Escholzmatt-Marbach</a>
                        <a href="#ettiswil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Ettiswil</a>
                        <a href="#fischbach" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Fischbach</a>
                        <a href="#flühli" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Flühli</a>
                        <a href="#gelfingen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Gelfingen</a>
                        <a href="#geuensee" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Geuensee</a>
                        <a href="#gettnau" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Gettnau</a>
                        <a href="#greppen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Greppen</a>
                        <a href="#grossdietwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Grossdietwil</a>
                        <a href="#grosswangen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Grosswangen</a>
                        <a href="#gunzwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Gunzwil</a>
                        <a href="#hasle" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Hasle</a>
                        <a href="#hergiswil-bei-willisau" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Hergiswil bei Willisau</a>
                        <a href="#hildisrieden" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Hildisrieden</a>
                        <a href="#hochdorf" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Hochdorf</a>
                        <a href="#hohenrain" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Hohenrain</a>
                        <a href="#honau" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Honau</a>
                        <a href="#horw" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Horw</a>
                        <a href="#inwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Inwil</a>
                        <a href="#knutwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Knutwil</a>
                        <a href="#kriens" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Kriens</a>
                        <a href="lucerne-city.html" style="padding: 10px 12px; background: #dc2626; color: white; text-decoration: none; border: 1px solid #dc2626; border-radius: 4px; font-size: 13px; font-weight: 600; transition: all 0.2s;">Lucerne</a>
                        <a href="#luthern" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Luthern</a>
                        <a href="#malters" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Malters</a>
                        <a href="#mauensee" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Mauensee</a>
                        <a href="#meggen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Meggen</a>
                        <a href="#meierskappel" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Meierskappel</a>
                        <a href="#menznau" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Menznau</a>
                        <a href="#nebikon" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Nebikon</a>
                        <a href="#neuenkirch" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Neuenkirch</a>
                        <a href="#nottwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Nottwil</a>
                        <a href="#oberkirch" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Oberkirch</a>
                        <a href="#ohmstal" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Ohmstal</a>
                        <a href="#pfaffnau" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Pfaffnau</a>
                        <a href="#rain" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Rain</a>
                        <a href="#rickenbach" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Rickenbach</a>
                        <a href="#roggliswil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Roggliswil</a>
                        <a href="#romoos" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Romoos</a>
                        <a href="#root" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Root</a>
                        <a href="#rothenburg" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Rothenburg</a>
                        <a href="#ruswil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Ruswil</a>
                        <a href="#schötz" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Schötz</a>
                        <a href="#schenkon" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Schenkon</a>
                        <a href="#schlierbach" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Schlierbach</a>
                        <a href="#schüpfheim" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Schüpfheim</a>
                        <a href="#schwarzenberg" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Schwarzenberg</a>
                        <a href="#sempach" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Sempach</a>
                        <a href="#sursee" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Sursee</a>
                        <a href="#triengen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Triengen</a>
                        <a href="#udligenswil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Udligenswil</a>
                        <a href="#uffikon" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Uffikon</a>
                        <a href="#vitznau" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Vitznau</a>
                        <a href="#wauwil" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Wauwil</a>
                        <a href="#weggis" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Weggis</a>
                        <a href="#werthenstein" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Werthenstein</a>
                        <a href="#willisau" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Willisau</a>
                        <a href="#winikon" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Winikon</a>
                        <a href="#wolhusen" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Wolhusen</a>
                        <a href="#zell" style="padding: 10px 12px; background: white; color: #666; text-decoration: none; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 13px; transition: all 0.2s;">Zell</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="citations-panel">
            <h2 class="panel-title">About Lucerne</h2>
            <div class="citations-list">
                <div class="citation">
                    <div class="citation-number">[1]</div>
                    <div class="citation-title">Geography</div>
                    <div class="citation-excerpt">
                        Located in central Switzerland, the canton is known for Lake Lucerne and its surrounding Alpine landscape.
                    </div>
                </div>
                <div class="citation">
                    <div class="citation-number">[2]</div>
                    <div class="citation-title">Economy</div>
                    <div class="citation-excerpt">
                        Major economic sectors include tourism, services, and manufacturing. The canton is home to several international companies.
                    </div>
                </div>
                <div class="citation">
                    <div class="citation-number">[3]</div>
                    <div class="citation-title">Featured Municipalities</div>
                    <div class="citation-excerpt">
                        Lucerne (city) is highlighted in red as the featured pilot municipality for this platform.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Interactive Canton Map
        const svg = d3.select('#lucerne-map-svg');
        const width = document.getElementById('canton-map').offsetWidth;
        const height = 500;

        svg.attr('viewBox', `0 0 ${width} ${height}`);

        // Simplified municipalities data organized by districts
        // Creating a grid-based layout representing the 79 municipalities
        const municipalities = [
            // District: Lucerne (central area)
            { name: 'Lucerne', district: 'Lucerne', x: 280, y: 220, size: 'large' },
            { name: 'Adligenswil', district: 'Lucerne', x: 340, y: 260, size: 'small' },
            { name: 'Buchrain', district: 'Lucerne', x: 240, y: 280, size: 'small' },
            { name: 'Dierikon', district: 'Lucerne', x: 320, y: 180, size: 'small' },
            { name: 'Ebikon', district: 'Lucerne', x: 300, y: 260, size: 'medium' },
            { name: 'Greppen', district: 'Lucerne', x: 380, y: 300, size: 'small' },
            { name: 'Honau', district: 'Lucerne', x: 220, y: 200, size: 'small' },
            { name: 'Horw', district: 'Lucerne', x: 340, y: 300, size: 'small' },
            { name: 'Kriens', district: 'Lucerne', x: 260, y: 260, size: 'medium' },
            { name: 'Malters', district: 'Lucerne', x: 200, y: 260, size: 'small' },
            { name: 'Meggen', district: 'Lucerne', x: 320, y: 300, size: 'small' },
            { name: 'Meierskappel', district: 'Lucerne', x: 360, y: 240, size: 'small' },
            { name: 'Root', district: 'Lucerne', x: 280, y: 180, size: 'small' },
            { name: 'Schwarzenberg', district: 'Lucerne', x: 220, y: 240, size: 'small' },
            { name: 'Udligenswil', district: 'Lucerne', x: 380, y: 260, size: 'small' },
            { name: 'Vitznau', district: 'Lucerne', x: 400, y: 280, size: 'small' },
            { name: 'Weggis', district: 'Lucerne', x: 420, y: 260, size: 'small' },

            // District: Hochdorf (south)
            { name: 'Hochdorf', district: 'Hochdorf', x: 280, y: 360, size: 'medium' },
            { name: 'Aesch', district: 'Hochdorf', x: 240, y: 360, size: 'small' },
            { name: 'Ballwil', district: 'Hochdorf', x: 320, y: 380, size: 'small' },
            { name: 'Ermensee', district: 'Hochdorf', x: 260, y: 400, size: 'small' },
            { name: 'Eschenbach', district: 'Hochdorf', x: 340, y: 340, size: 'small' },
            { name: 'Gelfingen', district: 'Hochdorf', x: 220, y: 380, size: 'small' },
            { name: 'Hitzkirch', district: 'Hochdorf', x: 200, y: 400, size: 'small' },
            { name: 'Hohenrain', district: 'Hochdorf', x: 240, y: 420, size: 'small' },
            { name: 'Inwil', district: 'Hochdorf', x: 300, y: 340, size: 'small' },
            { name: 'Rain', district: 'Hochdorf', x: 320, y: 360, size: 'small' },
            { name: 'Römerswil', district: 'Hochdorf', x: 280, y: 420, size: 'small' },
            { name: 'Rothenburg', district: 'Hochdorf', x: 260, y: 320, size: 'small' },

            // District: Sursee (northeast)
            { name: 'Sursee', district: 'Sursee', x: 360, y: 160, size: 'medium' },
            { name: 'Beromünster', district: 'Sursee', x: 320, y: 140, size: 'small' },
            { name: 'Büron', district: 'Sursee', x: 380, y: 140, size: 'small' },
            { name: 'Buttisholz', district: 'Sursee', x: 400, y: 160, size: 'small' },
            { name: 'Eich', district: 'Sursee', x: 340, y: 180, size: 'small' },
            { name: 'Geuensee', district: 'Sursee', x: 300, y: 160, size: 'small' },
            { name: 'Gunzwil', district: 'Sursee', x: 420, y: 140, size: 'small' },
            { name: 'Knutwil', district: 'Sursee', x: 400, y: 180, size: 'small' },
            { name: 'Mauensee', district: 'Sursee', x: 380, y: 120, size: 'small' },
            { name: 'Neuenkirch', district: 'Sursee', x: 300, y: 200, size: 'small' },
            { name: 'Nottwil', district: 'Sursee', x: 340, y: 120, size: 'small' },
            { name: 'Oberkirch', district: 'Sursee', x: 360, y: 140, size: 'small' },
            { name: 'Rickenbach', district: 'Sursee', x: 420, y: 180, size: 'small' },
            { name: 'Schenkon', district: 'Sursee', x: 280, y: 140, size: 'small' },
            { name: 'Schlierbach', district: 'Sursee', x: 320, y: 120, size: 'small' },
            { name: 'Sempach', district: 'Sursee', x: 360, y: 200, size: 'small' },
            { name: 'Triengen', district: 'Sursee', x: 440, y: 160, size: 'small' },

            // District: Willisau (northwest)
            { name: 'Willisau', district: 'Willisau', x: 140, y: 120, size: 'medium' },
            { name: 'Alberswil', district: 'Willisau', x: 180, y: 140, size: 'small' },
            { name: 'Altbüron', district: 'Willisau', x: 160, y: 80, size: 'small' },
            { name: 'Altishofen', district: 'Willisau', x: 200, y: 100, size: 'small' },
            { name: 'Dagmersellen', district: 'Willisau', x: 220, y: 80, size: 'small' },
            { name: 'Egolzwil', district: 'Willisau', x: 200, y: 120, size: 'small' },
            { name: 'Ettiswil', district: 'Willisau', x: 180, y: 100, size: 'small' },
            { name: 'Fischbach', district: 'Willisau', x: 160, y: 100, size: 'small' },
            { name: 'Gettnau', district: 'Willisau', x: 120, y: 140, size: 'small' },
            { name: 'Grossdietwil', district: 'Willisau', x: 140, y: 80, size: 'small' },
            { name: 'Hergiswil bei Willisau', district: 'Willisau', x: 100, y: 120, size: 'small' },
            { name: 'Hildisrieden', district: 'Willisau', x: 220, y: 140, size: 'small' },
            { name: 'Luthern', district: 'Willisau', x: 120, y: 80, size: 'small' },
            { name: 'Menznau', district: 'Willisau', x: 140, y: 140, size: 'small' },
            { name: 'Nebikon', district: 'Willisau', x: 240, y: 120, size: 'small' },
            { name: 'Pfaffnau', district: 'Willisau', x: 220, y: 100, size: 'small' },
            { name: 'Reiden', district: 'Willisau', x: 240, y: 140, size: 'small' },
            { name: 'Roggliswil', district: 'Willisau', x: 160, y: 120, size: 'small' },
            { name: 'Schötz', district: 'Willisau', x: 200, y: 140, size: 'small' },
            { name: 'Uffikon', district: 'Willisau', x: 180, y: 120, size: 'small' },
            { name: 'Wauwil', district: 'Willisau', x: 260, y: 120, size: 'small' },
            { name: 'Zell', district: 'Willisau', x: 100, y: 100, size: 'small' },

            // District: Entlebuch (west)
            { name: 'Entlebuch', district: 'Entlebuch', x: 100, y: 220, size: 'medium' },
            { name: 'Doppleschwand', district: 'Entlebuch', x: 80, y: 180, size: 'small' },
            { name: 'Escholzmatt-Marbach', district: 'Entlebuch', x: 60, y: 200, size: 'small' },
            { name: 'Flühli', district: 'Entlebuch', x: 80, y: 240, size: 'small' },
            { name: 'Hasle', district: 'Entlebuch', x: 120, y: 200, size: 'small' },
            { name: 'Romoos', district: 'Entlebuch', x: 100, y: 260, size: 'small' },
            { name: 'Schüpfheim', district: 'Entlebuch', x: 120, y: 240, size: 'small' },
            { name: 'Werthenstein', district: 'Entlebuch', x: 140, y: 220, size: 'small' },
            { name: 'Wolhusen', district: 'Entlebuch', x: 160, y: 200, size: 'small' },
            { name: 'Ruswil', district: 'Entlebuch', x: 160, y: 180, size: 'small' }
        ];

        // Create canton boundary (simplified shape)
        const cantonBoundary = svg.append('path')
            .attr('d', `M 50,100 L 460,100 L 480,150 L 480,350 L 400,440 L 200,440 L 50,350 Z`)
            .attr('fill', '#e5e5e5')
            .attr('stroke', '#999')
            .attr('stroke-width', 2)
            .attr('opacity', 0.3);

        // Function to get municipality size
        function getMunicipalityRadius(size) {
            if (size === 'large') return 18;
            if (size === 'medium') return 14;
            return 10;
        }

        // Create municipality zones
        const municipalityZones = svg.selectAll('.municipality-zone')
            .data(municipalities)
            .enter()
            .append('g')
            .attr('class', 'municipality-zone')
            .style('cursor', 'pointer');

        // Add circles for municipalities
        municipalityZones.append('circle')
            .attr('cx', d => d.x)
            .attr('cy', d => d.y)
            .attr('r', d => getMunicipalityRadius(d.size))
            .attr('fill', '#666')
            .attr('stroke', '#fff')
            .attr('stroke-width', 2)
            .attr('opacity', 0.7)
            .on('mouseover', function(event, d) {
                d3.select(this)
                    .transition()
                    .duration(200)
                    .attr('fill', '#dc2626')
                    .attr('opacity', 1)
                    .attr('r', getMunicipalityRadius(d.size) + 3);

                // Update info panel
                const infoPanel = document.getElementById('municipality-info');
                infoPanel.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h4 style="font-size: 16px; font-weight: 600; color: #1a1a1a; margin-bottom: 4px;">${d.name}</h4>
                            <p style="font-size: 13px; color: #666;">District: ${d.district}</p>
                        </div>
                        <div style="text-align: right;">
                            <span style="font-size: 11px; color: #999;">Municipality ${municipalities.indexOf(d) + 1} of ${municipalities.length}</span>
                        </div>
                    </div>
                `;
            })
            .on('mouseout', function(event, d) {
                d3.select(this)
                    .transition()
                    .duration(200)
                    .attr('fill', '#666')
                    .attr('opacity', 0.7)
                    .attr('r', getMunicipalityRadius(d.size));

                // Reset info panel
                const infoPanel = document.getElementById('municipality-info');
                infoPanel.innerHTML = '<p style="font-size: 13px; color: #666; text-align: center;">Hover over a municipality to see details</p>';
            })
            .on('click', function(event, d) {
                // You can add click functionality here if needed
                console.log('Clicked:', d.name);
            });

        // Add labels for major cities only
        municipalityZones
            .filter(d => d.size === 'large' || d.size === 'medium')
            .append('text')
            .attr('x', d => d.x)
            .attr('y', d => d.y + getMunicipalityRadius(d.size) + 12)
            .attr('text-anchor', 'middle')
            .attr('font-size', '11px')
            .attr('font-weight', '600')
            .attr('fill', '#333')
            .style('pointer-events', 'none')
            .text(d => d.name);

        // Add district labels
        const districtCenters = {
            'Lucerne': { x: 300, y: 420 },
            'Hochdorf': { x: 260, y: 450 },
            'Sursee': { x: 380, y: 50 },
            'Willisau': { x: 160, y: 60 },
            'Entlebuch': { x: 80, y: 280 }
        };

        Object.entries(districtCenters).forEach(([district, pos]) => {
            svg.append('text')
                .attr('x', pos.x)
                .attr('y', pos.y)
                .attr('text-anchor', 'middle')
                .attr('font-size', '12px')
                .attr('font-weight', '700')
                .attr('fill', '#999')
                .attr('opacity', 0.5)
                .style('pointer-events', 'none')
                .text(district.toUpperCase());
        });

        // Add title
        svg.append('text')
            .attr('x', width / 2)
            .attr('y', 30)
            .attr('text-anchor', 'middle')
            .attr('font-size', '16px')
            .attr('font-weight', '700')
            .attr('fill', '#333')
            .text('Canton of Lucerne - 79 Municipalities');
    </script>
</body>
</html>
